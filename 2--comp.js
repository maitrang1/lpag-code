
//progress bar  ,,, pbarSta0 pbaWidSta pbaWidEn0 pbaWidEn9 pbaHeiSta pbaHeiEn0 pbaHeiEn9   
const buttDownFunc=()=>{let progDow=qi('nextSect'),progCir=qi('progCirc'),progTim=qi('progTime'),circum=Math.PI*2*18,isAut=!0,progInt=null,staTim=0,idleInt=null,lastAct=Date.now(),debounce=null,timeShow=70*1000,timeStop=33*60*1000;   const init=()=>{starProg();setIdle()}; 

const starProg=()=>{if(!isAut)return;clearInterval(progInt);const dura=timeShow;staTim=Date.now();tS(progTim,Math.ceil(dura/1000));cA(progDow,'active');progInt=setInterval(()=>{const ela=Date.now()-staTim,pro=Math.min(ela/dura,1);sS(progCir,'stroke-dashoffset',circum*(1-pro)); const remTim=Math.ceil((dura-ela)/1000);tS(progTim,remTim>0?remTim+'':'0');if(ela>=dura)nextSect()},50)};  
const nextAfte=()=>{clearInterval(progInt);restProg();clearTimeout(debounce);debounce=setTimeout(starProg,800)}; 
const restProg=()=>{sS(progCir,'stroke-dashoffset',circum);cR(progDow,'active')}; 
const stopProg=()=>{clearInterval(progInt);clearTimeout(debounce);sS(progCir,'stroke-dashoffset','0');cR(progDow,'active')}; 
const userActi=()=>{lastAct=Date.now();stopProg();setIdle()}; 
const setIdle=()=>{clearInterval(idleInt);idleInt=setInterval(()=>{if(Date.now()-lastAct>=timeStop){starProg();clearInterval(idleInt)}},1000)}; 
const togAut=()=>{isAut=!isAut;if(isAut){starProg();setIdle()}else{stopProg();clearInterval(idleInt)}}; 
['click','touchstart','keydown','wheel','scroll'].forEach(e=>ed(userActi,e,{passive:!0}));
return{init,togAut,nextAfte,userActi}};  
const buttDownProg=buttDownFunc();buttDownProg.init();ed(e=>{if(e.code==='Space'){e.preventDefault();buttDownProg.togAut()}});

const pbarSta0=(bar)=>{sT(bar);sT(pa(bar))},   pbaWidSta=(bar,dur)=>{sSts(bar);cR(bar);setTimeout(()=>{sStswi(bar,dur);cA(bar);},50);},   pbaWidEn0=(bar)=>{sSts(bar);cR(bar);sSw0(bar);sSw0(pa(bar));},   pbaWidEn9=(bar)=>{sSts(bar);cR(bar);sSw1(bar);},   pbaHeiSta=(bar,dur)=>{sSts(bar);cR(bar);setTimeout(()=>{sStshe(bar,dur);cA(bar);},50);},   pbaHeiEn0=(bar)=>{sSts(bar);cR(bar);sSh0(bar);sSh0(pa(bar));},   pbaHeiEn9=(bar)=>{sSts(bar);cR(bar);sSh1(bar);};   

//stars night sky background   
function starCrea(){const secs=Q('.sec0.head');if(!secs)return;const sNum=66;secs.forEach(sec=>{const sCon=tC('div');cA(sCon,'stars');for(let i=0;i<sNum;i++){const star=tC('div');cA(star,'star');const siz=Math.random()*1+1.5;const dela=Math.random()*9;const dura=Math.random()*13+6;const initOpa=Math.random();const direction=Math.random()>0.5?'normal':'reverse';const fillMode=Math.random()>0.5?'forwards':'backwards';sS(star,{left:Math.random()*100+'%',top:Math.random()*100+'%',width:siz+'px',height:siz+'px',opacity:initOpa,'--duration':dura+'s','--direction':direction,animationDelay:dela+'s',animationFillMode:fillMode});sCon.appendChild(star)}sec.prepend(sCon)})}  

let shootActive=false;
function creaShoot(){if(shootActive)return;const secs=Q('.sec0.head');if(!secs.length)return;shootActive=true;const randSec=secs[rN(secs.length)];const star=tC('div');cS(star,'shooting-star');const startX=rN(wWi*0.9);const startY=rN(wHe*0.9);sSl(star,startX+'px');sSt(star,startY+'px');const bright=Math.random();sS(star,'opacity',bright);const size=1+Math.random()*0.5;sStf(star,`scale(${size})`);randSec.appendChild(star);setTimeout(()=>{if(star.parentNode){star.parentNode.removeChild(star)}shootActive=false},1500)}
function startShoot(){function nextStar(){creaShoot();setTimeout(nextStar,1000+rN(2000))}setTimeout(nextStar,100)} 

//botton Play|Pause   buttPlayTogg buttPaus buttPlay   
buttPlayTogg=eB=>{const playButt=q('.play',eB),pausButt=q('.pause',eB);if(cC(playButt)){cR(playButt);cA(pausButt);}else{cA(playButt);cR(pausButt);}},   buttPaus=eB=>{const playButt=q('.play',eB),pausButt=q('.pause',eB);if(!cC(playButt)){cA(playButt);cR(pausButt)}},   buttPlay=eB=>{const playButt=q('.play',eB),pausButt=q('.pause',eB);if(!cC(pausButt)){cA(pausButt);cR(playButt)}},   

//popup     popSmaOpe popOpe popClo pOC pBC pBCT pCC pCC4   
popWa2=qc('popuWra2'),      popSmaOpe=eI=>{ pI=eI+'-popu';let e=iO(eI)?eI:qi(eI),eH=e.offsetHeight,eP=e.getBoundingClientRect(),eT=eP.top,eL=eP.left,p=qi(pI),w=p.childNodes[0],wH=w.offsetHeight;if(eT<wH/2){cA(q('.popuArr1',p));cR(q('.popuArr2',p));sSt(w,(eT+eH)+'px')}else{cA(q('.popuArr2',p));cR(q('.popuArr1',p));sSt(w,(eT-wH-e2p(.4))+'px')}sSl(w,eL+'px');cA(p,'popuOpen');if(!cC(p,'popuMainFree')){keybBloc=true} },   
popOpe=id=>{cA(qi(id+'-popu'),'popuOpen');keybBloc=true},   popClo=id=>{cR(qi(id+'-popu'),'popuOpen');keybBloc=false},   pOC=e=>{cA(qi(e.id+'-popu'),'popuOpen');keybBloc=true},   pBC=e=>{cR(qi(pa(e).id),'popuOpen');keybBloc=false},   pBCT=e=>{const pI=pa(e).id,tI=pI.slice(0,8);Q('#'+tI+' td').forEach(t=>cR(t));cR(qi(pI),'popuOpen');keybBloc=false},   pCC=e=>{cR(qi(pa(e,2).id),'popuOpen');keybBloc=false},   pCC4=e=>{cR(qi(pa(e,4).id),'popuOpen');keybBloc=false};   

//typeArra(eleA,texA,dView,sDele,dWait,loop) - [ [eId1,tex0,speed,delay], [eId2,tex0,speed,delay] ]   /texA [ [te11,te12,te13], [te21,te22,te23] ]   
const typeText=(eleI, text, speed=133, cursRemo=false, repeat=1)=>{ const elem=qi(eleI), tex0=tV(elem), cursor=elem.nextElementSibling;   let index=0, count=0, tota=0;   const type=()=>{ if(index<text.length){ tS(elem,tV(elem)+text.charAt(index)); index++; tota+=speed; setTimeout(type, speed); } 
else if(count<repeat-1){ index=0; count++; tota+=3000; setTimeout(()=>{tS(elem,tex0); type(); }, 3000); }  else{ if(cursRemo){setTimeout(()=>{sSd(cursor)}, 6000);} } };   
type(); return tota+(text.length*speed)+(repeat-1)*3000; },      cleaText=(eleI, text, tex0, speed='', cursRemo=false)=>{ const elem=qi(eleI), cursor=elem.nextElementSibling;   if(speed===''){tS(elem);text=tex0}else{text=tex0+text}   let index=text.length-1, tex0L=tex0.length;   const erase=()=>{ 
if(index >= tex0L){ tS(elem,text.substring(0,index)); index--; setTimeout(erase, speed); } else { if(cursRemo){sSd(cursor)} } };    erase(); };   

let typeStop={};      async function typeArra(eleA, texA, dView=6e3, sDele, dWait=2e3, loop=true){ let tAL;   
const typeTextAsyn=(eleI,spee,text)=>new Promise((resolve)=>setTimeout(()=>resolve(typeText(eleI,text,spee)), dWait));   
const cleaTextAsyn=(eleI,text,tex0,tota,sDele)=>new Promise((resolve)=>setTimeout(()=>resolve(cleaText(eleI,text,tex0,sDele)), tota+dView));   
const typeNoww=async (eleI,tex0,spee,te2A)=>{ const elem=qi(eleI); if(!elem)return; tAL=te2A.length; if(typeStop[eleI]){tS(elem,tex0);return;}   
for(let i=0;i<tAL;i++){ if(typeStop[eleI]){tS(elem,tex0);return;} const tota=await typeTextAsyn(eleI,spee,te2A[i]); await cleaTextAsyn(eleI,te2A[i],tex0,tota,sDele); }   
if(loop&&!typeStop[eleI]){ setTimeout(()=>typeNoww(eleI,tex0,spee,te2A), dWait); } };   eleA.forEach((el2A, i)=>{ typeStop[el2A[0]]=false; if(!el2A[1]){el2A[1]=''} 
if(!el2A[3]){typeNoww(el2A[0],el2A[1],el2A[2],texA[i])}else{setTimeout(()=>typeNoww(el2A[0],el2A[1],el2A[2],texA[i]), el2A[3])} });   }   

//email //form   
var emailjs=function(e){"use strict";class t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const i={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},r=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const o=r(e);i.publicKey=o.publicKey,i.blockHeadless=o.blockHeadless,i.storageProvider=o.storageProvider,i.blockList=o.blockList,i.limitRate=o.limitRate,i.origin=o.origin||t},a=async function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=await fetch(i.origin+e,{method:"POST",headers:o,body:r}),s=await a.text(),n=new t(a.status,s);if(a.ok)return n;throw n},s=(e,t,i)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},n=e=>e.webdriver||!e.languages||0===e.languages.length,l=()=>new t(451,"Unavailable For Headless Browser"),c=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length&&e.watchVariable)})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const i=(r=t,o=e.watchVariable,r instanceof FormData?r.get(o):r[o]);var r,o;return"string"==typeof i&&e.list.includes(i)},d=()=>new t(403,"Forbidden"),m=async(e,t,i)=>{if(!t.throttle||!i)return!1;((e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a string"})(t.throttle,t.id);const r=t.id||e,o=await(async(e,t,i)=>{const r=Number(await i.get(e)||0);return t-Date.now()+r})(r,t.throttle,i);return o>0||(await i.set(r,Date.now().toString()),!1)},h=()=>new t(429,"Too Many Requests"),p=async(e,t,o,p)=>{const u=r(p),b=u.publicKey||i.publicKey,g=u.blockHeadless||i.blockHeadless,f=i.storageProvider||u.storageProvider,v={...i.blockList,...u.blockList},w={...i.limitRate,...u.limitRate};if(g&&n(navigator))return Promise.reject(l());if(s(b,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(o),o&&c(v,o))return Promise.reject(d());if(await m(location.pathname,w,f))return Promise.reject(h());const y={lib_version:"4.3.3",user_id:b,service_id:e,template_id:t,template_params:o};return a("/api/v1.0/email/send",JSON.stringify(y),{"Content-type":"application/json"})},u=async(e,t,o,p)=>{const u=r(p),b=u.publicKey||i.publicKey,g=u.blockHeadless||i.blockHeadless,f=i.storageProvider||u.storageProvider,v={...i.blockList,...u.blockList},w={...i.limitRate,...u.limitRate};if(g&&n(navigator))return Promise.reject(l());const y=(e=>"string"==typeof e?document.querySelector(e):e)(o);s(b,e,t),(e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"})(y);const j=new FormData(y);return c(v,j)?Promise.reject(d()):await m(location.pathname,w,f)?Promise.reject(h()):(j.append("lib_version","4.3.3"),j.append("service_id",e),j.append("template_id",t),j.append("user_id",b),a("/api/v1.0/email/send-form",j))};var b={init:o,send:p,sendForm:u,EmailJSResponseStatus:t};return e.EmailJSResponseStatus=t,e.default=b,e.init=o,e.send=p,e.sendForm=u,Object.defineProperty(e,"__esModule",{value:!0}),e}({}); 
(function(){emailjs.init({publicKey: "kQ6J1U8RvopraAdOD"});})(); 

// icon: play   
Q('.iconPlay').forEach(e=>{const playButt=q('.play',e),pausButt=q('.pause',e); eq(e,()=>{if(cC(playButt)){cR(playButt);cA(pausButt);}else{cA(playButt);cR(pausButt);}}); }); 